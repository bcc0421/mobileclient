{"version":3,"sources":["../../node_modules/_@angular_core@4.1.3@@angular/core/@angular lazy","../../node_modules/_ionic-angular@3.9.2@ionic-angular/util lazy","../../src/pages/login/login-service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/NativeService.ts","../../src/providers/http.service.ts","../../src/providers/Utils.ts","../../node_modules/_moment@2.20.1@moment/locale ^/.*$","../../src/pages/home/map-service.ts","../../src/pages/ment/ment.service.ts","../../src/pages/tabs/tabs.module.ts","../../src/pages/tabs/tabs.ts","../../src/providers/chat-service.ts"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;;;;;;;;;;;AC9P2C;AACgB;AACG;AACzB;AAErC,IAAa,UAAU;IACrB,oBAAoB,WAAwB,EAAS,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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 146;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_@angular_core@4.1.3@@angular/core/@angular lazy\n// module id = 146\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 189;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_ionic-angular@3.9.2@ionic-angular/util lazy\n// module id = 189\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { HttpService } from \"../../providers/http.service\";\r\nimport { NativeService } from \"../../providers/NativeService\";\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { Observable } from \"rxjs\";\r\n/*\r\n  Generated class for the LoginServiceProvider provider.\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\ndeclare var FileTransfer: any;\r\ndeclare var FileUploadOptions: any;\r\n@Injectable()\r\nexport class LoginService {\r\n\r\n  constructor(private httpService: HttpService, public native: NativeService, private camera: Camera) {\r\n\r\n  }\r\n  getUserByUUid(uuid): Observable<Response> {//根据uuid查询用户信息\r\n    let requestInfo = {\r\n      url: \"people/uuid\",\r\n      uuid: uuid,\r\n      key: '123123',\r\n      hideloading: true\r\n    }\r\n    return Observable.create((observer) => {\r\n      this.httpService.post(requestInfo.url, requestInfo).subscribe(\r\n        data => {\r\n          try {\r\n            //该方法返回已校正新接口\r\n            let res = data.json();\r\n            if (res.code != 200) {\r\n              observer.error(res.info);\r\n            } else {\r\n              observer.next(res.info);\r\n            }\r\n\r\n          } catch (error) {\r\n            observer.error(error);\r\n          }\r\n        },\r\n        err => observer.error(err)\r\n      );\r\n    })\r\n  }\r\n\r\n  processIDcard = function (FileData, callbank) {  //从服务器端获取来的身份证信息\r\n    this.native.showLoading('身份自动识别中...');\r\n    let requestInfo = {\r\n      url: \"/people/identification\",\r\n      FileData: FileData,\r\n      hideloading: true\r\n    }\r\n    this.httpService.post(requestInfo.url, requestInfo).subscribe(\r\n      data => {\r\n        try {\r\n          let res = data.json();\r\n          if (res.code != 200) {\r\n            this.native.showToast(res.info);\r\n          } else {\r\n            callbank && callbank(res.info);\r\n          }\r\n        } catch (error) {\r\n          this.native.showToast('身份证识别失败，请重试~');\r\n        }\r\n        this.native.hideLoading();\r\n      },\r\n      err => {\r\n        this.native.showToast('身份证识别失败，请重试~');\r\n        this.native.hideLoading();\r\n      }\r\n    );\r\n  }\r\n  registered(person) {//注册用户\r\n    let requestInfo = Object.assign({\r\n      'url': \"/people/register\",\r\n    }, person);\r\n    return Observable.create((observer) => {\r\n      this.httpService.post(requestInfo.url, requestInfo).subscribe(\r\n        data => {\r\n          try {\r\n            let res = data.json();\r\n            if (res.code != 200) {\r\n              observer.error(res.error);\r\n            } else {\r\n              observer.next(res);\r\n            }\r\n\r\n          } catch (error) {\r\n            observer.error(error);\r\n          }\r\n        },\r\n        err => {\r\n          observer.error(err);\r\n        }\r\n      );\r\n    })\r\n  }\r\n  openCamera(callbank) {//打开相机\r\n    let options: CameraOptions = {\r\n      //新接口返回base64直接\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      quality: 100,\r\n      targetWidth: 700,\r\n      targetHeight: 440\r\n    }\r\n    this.native.getPicture(options).then((imageData) => {\r\n      this.processIDcard(imageData, callbank);\r\n      //this.uploadIDCard(imageData, callbank);\r\n    }, (err) => {\r\n      this.native.showToast('调用相机失败');\r\n    });\r\n  }\r\n  //该方法放弃，无需上传,新接口直接base64解析\r\n  uploadIDCard(fileURL, callbank) {\r\n    let options = new FileUploadOptions();\r\n    options.fileKey = \"file\";\r\n    options.fileName = fileURL.substr(fileURL.lastIndexOf('/') + 1);\r\n    options.mimeType = \"image/jpg\";\r\n    //注意身份证识别只认jpg，\r\n    let ft = new FileTransfer();\r\n    this.native.showLoading('上传中...');\r\n    ft.upload(fileURL, this.native.appServer.node + 'filedirectupload/IDCard', data => {\r\n      console.log(data);\r\n      this.native.hideLoading();\r\n      try {\r\n        let res = JSON.parse(data.response);\r\n        this.processIDcard(res.filename, callbank);\r\n      } catch (error) {\r\n        this.native.showToast('解析IDCard图片失败');\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n      this.native.showToast('上传文件失败');\r\n      this.native.hideLoading();\r\n    }, options);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login-service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler,} from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { NativeService } from \"../providers/NativeService\";\r\nimport { HttpService } from \"../providers/http.service\";\r\nimport { ChatService } from \"../providers/chat-service\";\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { LoginService } from '../pages/login/login-service';\r\nimport { MapService } from '../pages/home/map-service';\r\nimport { MentService } from \"../pages/ment/ment.service\";\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { UniqueDeviceID } from '@ionic-native/unique-device-id';\r\nimport { MediaPlugin } from '@ionic-native/media';\r\nimport { MediaCapture } from '@ionic-native/media-capture';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { File } from '@ionic-native/file';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Badge } from '@ionic-native/badge';\r\nimport { IonJPushModule } from 'ionic2-jpush';\r\nimport {TabsPageModule} from \"../pages/tabs/tabs.module\";\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\r\nimport { Transfer } from '@ionic-native/transfer';\r\nimport { FileOpener } from '@ionic-native/file-opener';\r\nimport { Sim } from '@ionic-native/sim';\r\nimport { AppMinimize } from '@ionic-native/app-minimize';\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n  ],\r\n  imports: [\r\n    IonJPushModule,\r\n    BrowserModule,\r\n    HttpModule,\r\n    TabsPageModule,\r\n    IonicModule.forRoot(MyApp, {\r\n      tabsHideOnSubPages: \"true\", // nav在push的时候隐藏\r\n      backButtonText: '',\r\n      iconMode: 'ios',\r\n      mode: 'ios'\r\n    }, \n{\n  links: [\n    { loadChildren: '../pages/tabs/tabs.module#TabsPageModule', name: 'TabsPage', segment: 'tabs', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/chat/chat.module#ChatPageModule', name: 'ChatPage', segment: 'chat', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/chat/select/select.module#SelectPageModule', name: 'SelectPage', segment: 'select', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/chat_user/chat_user.module#ChatUserPageModule', name: 'ChatUserPage', segment: 'chat_user', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/home/home.module#HomePageModule', name: 'HomePage', segment: 'home', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/home/location/location.module#LocationPageModule', name: 'LocationPage', segment: 'location', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/home/peslist/peslist.module#PeslistPageModule', name: 'PeslistPage', segment: 'peslist', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/login/login.module#LoginPageModule', name: 'LoginPage', segment: 'login', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/login/registinfo/registinfo.module#RegistinfoPageModule', name: 'RegistinfoPage', segment: 'registinfo', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/login/registtip/registtip.module#RegisttipPageModule', name: 'RegisttipPage', segment: 'registtip', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/ment.module#MentPageModule', name: 'MentPage', segment: 'ment', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/case/case.module#casePageModule', name: 'casePage', segment: 'case', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/casereport/casereport.module#CaseReportPageModule', name: 'CaseReportPage', segment: 'casereport', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/casereport/falv/falv.module#falvPageModule', name: 'falvPage', segment: 'falv', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/casereport/reject/reject.module#rejectPageModule', name: 'rejectPage', segment: 'reject', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/casereport/select/select.module#SelectUserPageModule', name: 'SelectUserPage', segment: 'select', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/casereport/step/step.module#stepPageModule', name: 'stepPage', segment: 'step', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/casereport/step/image/image.module#imagePageModule', name: 'imagePage', segment: 'image', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/statistics/statistics.module#StatisticsPageModule', name: 'StatisticsPage', segment: 'statistics', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/statistics/charts/charts.module#ChartsPageModule', name: 'ChartsPage', segment: 'charts', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/stroke/stroke.module#StrokePageModule', name: 'StrokePage', segment: 'stroke', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/upcoming/upcoming.module#UpcomingPageModule', name: 'UpcomingPage', segment: 'upcoming', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/ment/verify/verify.module#verifyPageModule', name: 'verifyPage', segment: 'verify', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/tongzhi/tongzhi.module#TongzhiPageModule', name: 'TongzhiPage', segment: 'tongzhi', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/user.module#UserPageModule', name: 'UserPage', segment: 'user', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/leave/leave.module#LeavePageModule', name: 'LeavePage', segment: 'leave', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/password/password.module#PasswordPageModule', name: 'PasswordPage', segment: 'password', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/reported/reported.module#ReportedPageModule', name: 'ReportedPage', segment: 'reported', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/scanlogin/scanlogin.module#ScanloginPageModule', name: 'ScanloginPage', segment: 'scanlogin', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/shift/shift.module#ShiftPageModule', name: 'ShiftPage', segment: 'shift', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user/shift/newper/newper.module#NewperPageModule', name: 'NewperPage', segment: 'newper', priority: 'low', defaultHistory: [] }\n  ]\n}),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    NativeService,\r\n    HttpService,\r\n    ChatService,\r\n    MentService,\r\n    Camera,\r\n    UniqueDeviceID,\r\n    MediaPlugin,\r\n    MediaCapture,\r\n    Geolocation,\r\n    File,\r\n    MapService,\r\n    Device,\r\n    Sim,\r\n    Badge,\r\n    Transfer,\r\n    BarcodeScanner,\r\n    FileOpener,\r\n    AppMinimize,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }, LoginService,\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Platform, Keyboard, IonicApp, Nav,ModalController } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { LoginService } from '../pages/login/login-service';\r\nimport { NativeService } from \"../providers/NativeService\";\r\nimport { HttpService } from \"../providers/http.service\";\r\nimport { ChatService } from \"../providers/chat-service\";\r\nimport { Device } from '@ionic-native/device';\r\nimport { JPushService } from 'ionic2-jpush';\r\nimport { Badge } from '@ionic-native/badge';\r\nimport { AppMinimize } from '@ionic-native/app-minimize';\r\n@Component({\r\n    templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n    @ViewChild('myNav') nav:Nav;\r\n    rootPage: any = 'TabsPage';\r\n    backButtonPressed: boolean = false;\r\n    constructor(private platform: Platform,\r\n        private keyboard: Keyboard,\r\n        public modalCtrl: ModalController,\r\n        private ionicApp: IonicApp, statusBar: StatusBar, public splashScreen: SplashScreen, loginser: LoginService, private nativeService: NativeService, public httpService: HttpService, chatser: ChatService, device: Device,\r\n        private jPushPlugin: JPushService, private badge: Badge,private appMinimize: AppMinimize) {\r\n        platform.ready().then(() => {\r\n            // Okay, so the platform is ready and our plugins are available.\r\n            // Here you can do any higher level native things you might need.\r\n            statusBar.styleDefault();\r\n            // loginser.getUserByUUid(device.uuid).subscribe(data => {//判断用户是否注册\r\n            //     nativeService.UserSession = data;\r\n            //     this.closeSplashScreen();\r\n            //     //当地图页面加载完成，启动消息轮循 这时候用户已登录\r\n            //     chatser.getUserNoRead();\r\n            // }, err => {\r\n            //     this.rootPage = 'LoginPage';\r\n            //     this.closeSplashScreen();\r\n            // })\r\n            //c7f89e97f9194631(徐海文)  8f8f64e76a4f6238(迈克尔·辩杰克逊) 47ab9cc0fa8a8a07 tj\r\n\r\n\r\n            //当前版本号\r\n            let curversion = \"0.4.0\";\r\n            //检测是否有更新 http://120.76.228.172/app/ver.json \r\n            httpService.get(nativeService.appServer.file + \"app/ver.json\").subscribe(data => {\r\n                var update_m = data.json();\r\n                if (parseInt(update_m.verInfo.replace(/\\./g, \"\")) > parseInt(curversion.replace(/\\./g, \"\"))) {\r\n                    nativeService.confirm(\"检测到新版本，是否更新？\", function () {\r\n                        nativeService.downapk(nativeService.appServer.file + \"app/\" + update_m.apkName + \".apk\", update_m.apkName);\r\n                    });\r\n                }\r\n            });\r\n            let myuuid = device.uuid;\r\n            if (!myuuid) { \r\n                myuuid = '6f24df8da22b4c35';\r\n            }\r\n            loginser.getUserByUUid(myuuid).subscribe(data => {\r\n                console.log(data)\r\n                nativeService.UserSession = data;\r\n                //设置极光id\r\n                this.getRegistrationID();\r\n                nativeService.myStorage.set('UserSession', data);\r\n                this.closeSplashScreen();\r\n                //启动IM，执行查询结构，查询接受后监听消息等操作\r\n                //chatser.getUserNoRead();\r\n            }, err => {\r\n                this.nav.push('LoginPage');\r\n                this.closeSplashScreen();\r\n            });\r\n            this.init();\r\n            //桌面角标\r\n            this.badge.set(1);\r\n            //alert(this.getRegistrationID())\r\n            //极光推送处理 全局唯一 事件参考：https://github.com/HsuanXyz/ionic2-jpush \r\n            //停止接受 (用户退出登录) 接受消息（需指明接受用户，防止切换用户后，推送对象错误）\r\n            this.jPushPlugin.openNotification()\r\n                .subscribe(res => {\r\n                    this.badge.increase(-1);\r\n                });\r\n            this.jPushPlugin.receiveNotification()\r\n                .subscribe(res => {\r\n                    this.badge.increase(1);\r\n                });\r\n            this.jPushPlugin.receiveMessage()\r\n                .subscribe(res => {\r\n\r\n                });\r\n        });\r\n        this.registerBackButtonAction()//注册返回事件\r\n    }\r\n    /**\r\n    * 延迟关闭\r\n    */\r\n    closeSplashScreen() {\r\n        this.splashScreen.hide();\r\n        // setTimeout(() => {\r\n        //     this.splashScreen.hide();\r\n        // }, 2 * 1000);\r\n    }\r\n    /**\r\n    * 注册极光\r\n    */\r\n    init() {\r\n        this.jPushPlugin.init()\r\n            .then(res => { })\r\n            .catch(err => { })\r\n    }\r\n    /**\r\n    * 获取ID\r\n    */\r\n    getRegistrationID() {\r\n        //修改极光ID已切换新接口\r\n        this.jPushPlugin.getRegistrationID()\r\n            .then(res => {\r\n                this.httpService.post(\"people/update\", { _id: this.nativeService.UserSession._id, jiguang_id: res }).subscribe(data=>{console.log(200)});\r\n            })\r\n            .catch(err => { })\r\n    }\r\n    registerBackButtonAction() {//注册返回事件\r\n        if (!this.nativeService.isAndroid()) {\r\n            return;\r\n        }\r\n        try {\r\n            this.platform.registerBackButtonAction(() => {\r\n                try {\r\n\r\n                    if (this.keyboard.isOpen()) {//如果键盘开启则隐藏键盘\r\n                        this.keyboard.close();\r\n                        return;\r\n                    }\r\n                    //如果想点击返回按钮隐藏toast或loading或Overlay就把下面加上\r\n                    // this.ionicApp._toastPortal.getActive() ||this.ionicApp._loadingPortal.getActive()|| this.ionicApp._overlayPortal.getActive()\r\n                    let activePortal = this.ionicApp._modalPortal.getActive();\r\n                    if (activePortal) {\r\n                        activePortal.dismiss();\r\n                        return;\r\n                    }\r\n                    \r\n                    let activeVC = this.nav.getActive();\r\n                    let tabs = activeVC.instance.tabs;\r\n                    if(tabs){\r\n                        let activeNav = tabs.getSelected();\r\n                        return activeNav.canGoBack() ? activeNav.pop() : this.appMinimize.minimize()//this.showExit()\r\n                    }else{\r\n                        return this.appMinimize.minimize()//this.showExit();\r\n                    }\r\n                   \r\n                } catch (error) {\r\n                    alert(error);\r\n                }\r\n            }, 1);\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n    //双击退出提示框\r\n    showExit() {\r\n        if (this.backButtonPressed) { //当触发标志为true时，即2秒内双击返回按键则退出APP\r\n            this.platform.exitApp();\r\n        } else {\r\n            this.nativeService.showToast('再按一次退出应用');\r\n            this.backButtonPressed = true;\r\n            setTimeout(() => { //2秒内没有再次点击返回则将触发标志标记为false\r\n                this.backButtonPressed = false;\r\n            }, 2000)\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/**\r\n * 公共化\r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport { ToastController, LoadingController, Platform, Loading, AlertController } from 'ionic-angular';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { File } from '@ionic-native/file';\r\nimport { FileOpener } from '@ionic-native/file-opener';\r\nimport { Transfer, TransferObject } from '@ionic-native/transfer';\r\nimport { Storage } from '@ionic/storage';\r\ndeclare var cordova: any;\r\n@Injectable()\r\nexport class NativeService {\r\n    private fileTransfer: TransferObject;\r\n    private loading: Loading;\r\n    private loadingIsOpen: boolean = false;\r\n    //环境\r\n    public appServer = {\r\n        //nodejs服务器接口地址\r\n        node: \"http://gridmap.xiaoketech.com/\",\r\n        //静态资源服务器地址\r\n        file: \"http://gridmap-file.xiaoketech.com/\"\r\n    }\r\n    myStorage: Storage;\r\n    //当前登录用户对象 默认为null 如果为null 则需要扫描身份证登录 否则自动登录\r\n    public UserSession: any;\r\n    constructor(private platform: Platform,\r\n        private toastCtrl: ToastController,\r\n        private alertCtrl: AlertController,\r\n        private camera: Camera,\r\n        private file: File,\r\n        private fileOpener: FileOpener,\r\n        private loadingCtrl: LoadingController,\r\n        private transfer: Transfer,\r\n        public storage: Storage, ) {\r\n        this.myStorage = storage;\r\n        this.fileTransfer = this.transfer.create();\r\n    }\r\n    /**\r\n     * 统一调用此方法显示提示信息\r\n     * @param message 信息内容\r\n     * @param duration 显示时长\r\n     */\r\n    showToast(message: string = '操作完成', duration: number = 2000): void {\r\n        this.toastCtrl.create({\r\n            message: message,\r\n            duration: duration,\r\n            position: 'bottom',\r\n            cssClass: 'custoast',\r\n            showCloseButton: false\r\n        }).present();\r\n    };\r\n    /**\r\n      * 请求数据处理\r\n      * \r\n      * \r\n      */\r\n    AjAxData(data, succallback?: Function, failcallback?: Function): void {\r\n        try {\r\n            let res = data.json();\r\n            if (res) {\r\n                succallback && succallback(res);\r\n            } else {\r\n                failcallback && failcallback(res);\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            this.showToast(error);\r\n        }\r\n    }\r\n    //更新下载APK copy\r\n    downapk(apk_down, apk_name) {\r\n        if (this.isAndroid()) {\r\n            let alertx = this.alertCtrl.create({\r\n                title: '下载进度：0%',\r\n                enableBackdropDismiss: false,\r\n                buttons: ['后台下载']\r\n            });\r\n            alertx.present();\r\n            const apk = this.file.externalApplicationStorageDirectory + apk_name + '.apk'; //apk保存的目录\r\n            this.fileTransfer.download(apk_down, apk).then(() => {\r\n                alertx.dismiss();\r\n                this.fileOpener.open(apk, 'application/vnd.android.package-archive').then(() => { }, (error) => {\r\n                    alert(JSON.stringify(error));\r\n                });\r\n            }, (error) => {\r\n                alert(JSON.stringify(error));\r\n                alertx.dismiss();\r\n            });\r\n            this.fileTransfer.onProgress((event: ProgressEvent) => {\r\n                let num = Math.floor(event.loaded / event.total * 100);\r\n                if (num === 100) {\r\n                    alertx.dismiss();\r\n                } else {\r\n                    alertx.setTitle('下载进度：' + num + '%');\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n   * 是否真机环境\r\n   * @return {boolean}\r\n   */\r\n    isMobile(): boolean {\r\n        return this.platform.is('mobile') && !this.platform.is('mobileweb');\r\n    }\r\n\r\n    /**\r\n     * 是否android真机环境\r\n     * @return {boolean}\r\n     */\r\n    isAndroid(): boolean {\r\n        return this.isMobile() && this.platform.is('android');\r\n    }\r\n\r\n    /**\r\n     * 统一调用此方法显示loading\r\n     * @param content 显示的内容\r\n     */\r\n    showLoading(content: string = ''): void {\r\n        if (!this.loadingIsOpen) {\r\n            this.loadingIsOpen = true;\r\n            this.loading = this.loadingCtrl.create({\r\n                content: content\r\n            });\r\n            this.loading.present();\r\n            //setTimeout(() => {//最长显示10秒\r\n            //    this.loadingIsOpen && this.loading.dismiss();\r\n            //    this.loadingIsOpen = false;\r\n            //}, 10000);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 关闭loading\r\n     */\r\n    hideLoading(): void {\r\n        this.loadingIsOpen && this.loading.dismiss();\r\n        this.loadingIsOpen = false;\r\n    };\r\n    //文件转64\r\n    tobase64(url: string, path: string) {\r\n        return this.file.readAsDataURL(path ? path : cordova.file.externalRootDirectory, url)\r\n    }\r\n    /**\r\n    * 使用cordova-plugin-camera获取照片的base64\r\n    * @param options\r\n    * @return {Promise<T>}\r\n    */\r\n    getPicture = (options) => {\r\n        return new Promise((resolve, reject) => {\r\n            this.camera.getPicture(Object.assign({\r\n                sourceType: this.camera.PictureSourceType.CAMERA,//图片来源,CAMERA:拍照,PHOTOLIBRARY:相册\r\n                destinationType: this.camera.DestinationType.DATA_URL,//返回值格式,DATA_URL:base64,FILE_URI:图片路径\r\n                quality: 90,//保存的图像质量，范围为0 - 100\r\n                allowEdit: true,//选择图片前是否允许编辑\r\n                encodingType: this.camera.EncodingType.JPEG,\r\n                targetWidth: 800,//缩放图像的宽度（像素）\r\n                targetHeight: 800,//缩放图像的高度（像素）\r\n                saveToPhotoAlbum: false,//是否保存到相册\r\n                correctOrientation: true//设置摄像机拍摄的图像是否为正确的方向\r\n            }, options)).then((imageData) => {\r\n                resolve(imageData);\r\n            }, (err) => {\r\n                console.log(err);\r\n                err == 20 ? this.showToast('没有权限,请在设置中开启权限') : reject(err);\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * 通过图库获取照片\r\n    * @param options\r\n    * @return {Promise<T>}\r\n    */\r\n    getPictureByPhotoLibrary = (options = {}) => {\r\n        return new Promise((resolve) => {\r\n            this.getPicture(Object.assign({\r\n                sourceType: this.camera.PictureSourceType.PHOTOLIBRARY\r\n            }, options)).then(imageBase64 => {\r\n                resolve(imageBase64);\r\n            }).catch(err => {\r\n                String(err).indexOf('cancel') != -1 ? this.showToast('取消选择图片', 1500) : this.showToast('获取照片失败');\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * 通过拍照获取照片\r\n     * @param options\r\n     * @return {Promise<T>}\r\n     */\r\n    getPictureByCamera = (options = {}) => {\r\n        return new Promise((resolve) => {\r\n            this.getPicture(Object.assign({\r\n                sourceType: this.camera.PictureSourceType.CAMERA\r\n            }, options)).then(imageBase64 => {\r\n                resolve(imageBase64);\r\n            }).catch(err => {\r\n                String(err).indexOf('cancel') != -1 ? this.showToast('取消拍照', 1500) : this.showToast('获取照片失败');\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * 弹出信息\r\n    * @param 消息内容\r\n    */\r\n    alert(msg: string, sucCallback?: Function, flg: boolean=true, btntxt: string = '确定', title: string = '提示', ): void {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            message: msg,\r\n            enableBackdropDismiss:flg,\r\n            buttons: [\r\n                {\r\n                    text: btntxt,\r\n                    handler: () => {\r\n                        sucCallback && sucCallback();\r\n                    }\r\n                }]\r\n        });\r\n        alert.present();\r\n    }\r\n    /**\r\n    * 弹出信息并确认\r\n    * @param 消息内容\r\n    */\r\n    confirm(msg: string, sureCallback: Function, cancelCallback?: Function, title: string = '提示',cancel:string='取消',ok:string='确定'): void {\r\n        let confirm = this.alertCtrl.create({\r\n            title: title,\r\n            message: msg,\r\n            buttons: [\r\n                {\r\n                    text: cancel,\r\n                    role: 'cancel',\r\n                    cssClass: 'cus-cancel',\r\n                    handler: () => {\r\n                        cancelCallback && cancelCallback();\r\n                    }\r\n                },\r\n                {\r\n                    text: ok,\r\n                    handler: () => {\r\n                        sureCallback && sureCallback();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        confirm.present();\r\n    }\r\n    /**  \r\n   * 获取指定的URL参数值  \r\n   * URL:http://www.baidu.com/index?name=tyler  \r\n   * 参数：paramName URL参数  \r\n   * 调用方法:getParam(\"name\",\"url\")  \r\n   * 返回值:tyler  \r\n   */\r\n    getParam(paramName, url) {\r\n        let strReturn = \"\";\r\n        let strHref = url.toLowerCase();\r\n        if (strHref.indexOf(\"?\") > -1) {\r\n            let strQueryString = strHref.substr(strHref.indexOf(\"?\") + 1).toLowerCase();\r\n            let aQueryString = strQueryString.split(\"&\");\r\n            for (let iParam = 0; iParam < aQueryString.length; iParam++) {\r\n                if (aQueryString[iParam].indexOf(paramName.toLowerCase() + \"=\") > -1) {\r\n                    let aParam = aQueryString[iParam].split(\"=\");\r\n                    strReturn = aParam[1];\r\n                    break;\r\n                }\r\n            }\r\n        } else if (strHref.indexOf(\"&\") > -1) {\r\n            let strQueryString = strHref.substr(strHref.indexOf(\"&\") + 1).toLowerCase();\r\n            let aQueryString = strQueryString.split(\"&\");\r\n            for (let iParam = 0; iParam < aQueryString.length; iParam++) {\r\n                if (aQueryString[iParam].indexOf(paramName.toLowerCase() + \"=\") > -1) {\r\n                    let aParam = aQueryString[iParam].split(\"=\");\r\n                    strReturn = aParam[1];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return strReturn;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/NativeService.ts","\r\n/**\r\n * \r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Response, Headers, RequestOptions, URLSearchParams, RequestOptionsArgs, RequestMethod } from '@angular/http';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { Observable } from \"rxjs\";\r\nimport { Utils } from \"./Utils\";\r\nimport { NativeService } from \"./NativeService\";\r\n@Injectable()\r\nexport class HttpService {\r\n    constructor(public http: Http,\r\n        private nativeService: NativeService) {\r\n    }\r\n\r\n    public request(url: string, options: RequestOptionsArgs): Observable<Response> {\r\n        url = this.replaceUrl(url);\r\n        // if (options.headers) {\r\n        //   options.headers.append('token', this.globalData.token);\r\n        // } else {\r\n        //   options.headers = new Headers({\r\n        //     'token': this.globalData.token\r\n        //   });\r\n        // }\r\n        return Observable.create((observer) => {\r\n            if (options.body && !options.body.hideloading) {//是否显示loading\r\n                this.nativeService.showLoading();\r\n            }\r\n            //console.log('%c 请求前 %c', 'color:blue', '', 'url', url, 'options', options);\r\n            this.http.request(url, options).subscribe(res => {\r\n                this.nativeService.hideLoading();\r\n               // console.log('%c 请求成功 %c', 'color:green', '', 'url', url, 'options', options, 'res', res);\r\n                observer.next(res);\r\n            }, err => {\r\n                this.requestFailed(url, options, err);//处理请求失败\r\n                observer.error(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    public get(url: string, paramMap: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Get,\r\n            search: HttpService.buildURLSearchParams(paramMap)\r\n        }));\r\n    }\r\n\r\n    public post(url: string, body: any = null): Observable<Response> {\r\n        //判断当前是否登录，如果登录则加载access_token\r\n        var hd_info={\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'access_token': '123'\r\n        };\r\n        if(this.nativeService.UserSession!=null){\r\n            hd_info.access_token = this.nativeService.UserSession.access_token;\r\n        }\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Post,\r\n            body: body,\r\n            headers: new Headers(hd_info)\r\n        }));\r\n    }\r\n\r\n    public postFormData(url: string, paramMap: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Post,\r\n            search: HttpService.buildURLSearchParams(paramMap).toString(),\r\n            headers: new Headers({\r\n                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n            })\r\n        }));\r\n    }\r\n\r\n    public put(url: string, body: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Put,\r\n            body: body\r\n        }));\r\n    }\r\n\r\n    public delete(url: string, paramMap: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Delete,\r\n            search: HttpService.buildURLSearchParams(paramMap).toString()\r\n        }));\r\n    }\r\n\r\n    public patch(url: string, body: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Patch,\r\n            body: body\r\n        }));\r\n    }\r\n\r\n    public head(url: string, paramMap: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Head,\r\n            search: HttpService.buildURLSearchParams(paramMap).toString()\r\n        }));\r\n    }\r\n\r\n    public options(url: string, paramMap: any = null): Observable<Response> {\r\n        return this.request(url, new RequestOptions({\r\n            method: RequestMethod.Options,\r\n            search: HttpService.buildURLSearchParams(paramMap).toString()\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * 将对象转为查询参数\r\n     * @param paramMap\r\n     * @returns {URLSearchParams}\r\n     */\r\n    private static buildURLSearchParams(paramMap): URLSearchParams {\r\n        let params = new URLSearchParams();\r\n        if (!paramMap) {\r\n            return params;\r\n        }\r\n        for (let key in paramMap) {\r\n            let val = paramMap[key];\r\n            if (val instanceof Date) {\r\n                val = Utils.dateFormat(val, 'yyyy-MM-dd hh:mm:ss')\r\n            }\r\n            params.set(key, val);\r\n        }\r\n        return params;\r\n    }\r\n\r\n    /**\r\n     * 处理请求失败事件\r\n     * @param url\r\n     * @param options\r\n     * @param err\r\n     */\r\n    private requestFailed(url: string, options: RequestOptionsArgs, err) {\r\n        this.nativeService.hideLoading();\r\n        console.log('%c 请求失败 %c', 'color:red', '', 'url', url, 'options', options, 'err', err);\r\n        let msg = '请求发生异常', status = err.status;\r\n        // if (!this.nativeService.isConnecting()) {\r\n        //   msg = '请求失败，请连接网络';\r\n        // } else {\r\n        if (status === 0) {\r\n            msg = '请求失败，请求响应出错';\r\n        } else if (status === 404) {\r\n            msg = '请求失败，未找到请求地址';\r\n        } else if (status === 500) {\r\n            msg = '请求失败，服务器出错，请稍后再试';\r\n        }\r\n        // }\r\n        this.nativeService.showToast(msg);\r\n    }\r\n\r\n    /**\r\n     * url中如果有双斜杠替换为单斜杠\r\n     * 如:http://88.128.18.144:8080//api//demo.替换后http://88.128.18.144:8080/api/demo\r\n     * @param url\r\n     * @returns {string}\r\n     */\r\n    private replaceUrl(url) {\r\n        if (url.indexOf('http://') == -1) {\r\n            url = this.nativeService.appServer.node + url;\r\n        }\r\n        return 'http://' + url.substring(7).replace(/\\/\\//g, '/');\r\n    }\r\n    //文件上传服务器 data\r\n    //file64：图片，语音，视频64位后的编码\r\n    //type:上传文件类型（0:图片；1:语音；2:小视频）\r\n    fileupload(data) {\r\n        return new Promise((resolve) => {\r\n            this.post(\"filedirectupload/uploadFile64\", data).subscribe(data => resolve(data.json().filename), err => resolve(\"\"));\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/http.service.ts","/**\r\n * \r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport moment from 'moment';\r\n/**\r\n * Utils类存放和业务无关的公共方法\r\n * @description\r\n */\r\n@Injectable()\r\nexport class Utils {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  static isEmpty(value): boolean {\r\n    return value == null || typeof value === 'string' && value.length === 0;\r\n  }\r\n\r\n  static isNotEmpty(value): boolean {\r\n    return !Utils.isEmpty(value);\r\n  }\r\n\r\n  /**\r\n   * 格式“是”or“否”\r\n   * @param value \r\n   * @returns {string|string}\r\n   */\r\n  static formatYesOrNo(value: number | string): string {\r\n    return value == 1 ? '是' : (value == '0' ? '否' : null);\r\n  }\r\n  /**\r\n   * 格式毫秒\r\n   * @param 毫秒\r\n   * @param YYYY/MM/DD HH:mm:ss 格式\r\n   * @returns 格式化后的日期\r\n   */\r\n  static dateFormatTime(date: number, gs: string) {\r\n    return moment(date).format(gs);\r\n  }\r\n\r\n  /**\r\n   * 日期对象转为日期字符串\r\n   * @param date 需要格式化的日期对象\r\n   * @param sFormat 输出格式,默认为yyyy-MM-dd                         年：y，月：M，日：d，时：h，分：m，秒：s\r\n   * @example  dateFormat(new Date())                                \"2017-02-28\"\r\n   * @example  dateFormat(new Date(),'yyyy-MM-dd')                   \"2017-02-28\"\r\n   * @example  dateFormat(new Date(),'yyyy-MM-dd hh:mm:ss')         \"2017-02-28 09:24:00\"\r\n   * @example  dateFormat(new Date(),'hh:mm')                       \"09:24\"\r\n   * @example  dateFormat(new Date(),'yyyy-MM-ddThh:mm:ss+08:00')   \"2017-02-28T09:24:00+08:00\"\r\n   * @returns {string}\r\n   */\r\n  static dateFormat(date: Date, sFormat: String = 'yyyy-MM-dd'): string {\r\n    let time = {\r\n      Year: 0,\r\n      TYear: '0',\r\n      Month: 0,\r\n      TMonth: '0',\r\n      Day: 0,\r\n      TDay: '0',\r\n      Hour: 0,\r\n      THour: '0',\r\n      hour: 0,\r\n      Thour: '0',\r\n      Minute: 0,\r\n      TMinute: '0',\r\n      Second: 0,\r\n      TSecond: '0',\r\n      Millisecond: 0\r\n    };\r\n    time.Year = date.getFullYear();\r\n    time.TYear = String(time.Year).substr(2);\r\n    time.Month = date.getMonth() + 1;\r\n    time.TMonth = time.Month < 10 ? \"0\" + time.Month : String(time.Month);\r\n    time.Day = date.getDate();\r\n    time.TDay = time.Day < 10 ? \"0\" + time.Day : String(time.Day);\r\n    time.Hour = date.getHours();\r\n    time.THour = time.Hour < 10 ? \"0\" + time.Hour : String(time.Hour);\r\n    time.hour = time.Hour < 13 ? time.Hour : time.Hour - 12;\r\n    time.Thour = time.hour < 10 ? \"0\" + time.hour : String(time.hour);\r\n    time.Minute = date.getMinutes();\r\n    time.TMinute = time.Minute < 10 ? \"0\" + time.Minute : String(time.Minute);\r\n    time.Second = date.getSeconds();\r\n    time.TSecond = time.Second < 10 ? \"0\" + time.Second : String(time.Second);\r\n    time.Millisecond = date.getMilliseconds();\r\n\r\n    return sFormat.replace(/yyyy/ig, String(time.Year))\r\n      .replace(/yyy/ig, String(time.Year))\r\n      .replace(/yy/ig, time.TYear)\r\n      .replace(/y/ig, time.TYear)\r\n      .replace(/MM/g, time.TMonth)\r\n      .replace(/M/g, String(time.Month))\r\n      .replace(/dd/ig, time.TDay)\r\n      .replace(/d/ig, String(time.Day))\r\n      .replace(/HH/g, time.THour)\r\n      .replace(/H/g, String(time.Hour))\r\n      .replace(/hh/g, time.Thour)\r\n      .replace(/h/g, String(time.hour))\r\n      .replace(/mm/g, time.TMinute)\r\n      .replace(/m/g, String(time.Minute))\r\n      .replace(/ss/ig, time.TSecond)\r\n      .replace(/s/ig, String(time.Second))\r\n      .replace(/fff/ig, String(time.Millisecond))\r\n  }\r\n\r\n  /**\r\n   * 每次调用sequence加1\r\n   * @type {()=>number}\r\n   */\r\n  getSequence = (function () {\r\n    let sequence = 100;\r\n    return function () {\r\n      return ++sequence;\r\n    };\r\n  })();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/Utils.ts","var map = {\n\t\"./af\": 258,\n\t\"./af.js\": 258,\n\t\"./ar\": 259,\n\t\"./ar-dz\": 260,\n\t\"./ar-dz.js\": 260,\n\t\"./ar-kw\": 261,\n\t\"./ar-kw.js\": 261,\n\t\"./ar-ly\": 262,\n\t\"./ar-ly.js\": 262,\n\t\"./ar-ma\": 263,\n\t\"./ar-ma.js\": 263,\n\t\"./ar-sa\": 264,\n\t\"./ar-sa.js\": 264,\n\t\"./ar-tn\": 265,\n\t\"./ar-tn.js\": 265,\n\t\"./ar.js\": 259,\n\t\"./az\": 266,\n\t\"./az.js\": 266,\n\t\"./be\": 267,\n\t\"./be.js\": 267,\n\t\"./bg\": 268,\n\t\"./bg.js\": 268,\n\t\"./bm\": 269,\n\t\"./bm.js\": 269,\n\t\"./bn\": 270,\n\t\"./bn.js\": 270,\n\t\"./bo\": 271,\n\t\"./bo.js\": 271,\n\t\"./br\": 272,\n\t\"./br.js\": 272,\n\t\"./bs\": 273,\n\t\"./bs.js\": 273,\n\t\"./ca\": 274,\n\t\"./ca.js\": 274,\n\t\"./cs\": 275,\n\t\"./cs.js\": 275,\n\t\"./cv\": 276,\n\t\"./cv.js\": 276,\n\t\"./cy\": 277,\n\t\"./cy.js\": 277,\n\t\"./da\": 278,\n\t\"./da.js\": 278,\n\t\"./de\": 279,\n\t\"./de-at\": 280,\n\t\"./de-at.js\": 280,\n\t\"./de-ch\": 281,\n\t\"./de-ch.js\": 281,\n\t\"./de.js\": 279,\n\t\"./dv\": 282,\n\t\"./dv.js\": 282,\n\t\"./el\": 283,\n\t\"./el.js\": 283,\n\t\"./en-au\": 284,\n\t\"./en-au.js\": 284,\n\t\"./en-ca\": 285,\n\t\"./en-ca.js\": 285,\n\t\"./en-gb\": 286,\n\t\"./en-gb.js\": 286,\n\t\"./en-ie\": 287,\n\t\"./en-ie.js\": 287,\n\t\"./en-nz\": 288,\n\t\"./en-nz.js\": 288,\n\t\"./eo\": 289,\n\t\"./eo.js\": 289,\n\t\"./es\": 290,\n\t\"./es-do\": 291,\n\t\"./es-do.js\": 291,\n\t\"./es-us\": 292,\n\t\"./es-us.js\": 292,\n\t\"./es.js\": 290,\n\t\"./et\": 293,\n\t\"./et.js\": 293,\n\t\"./eu\": 294,\n\t\"./eu.js\": 294,\n\t\"./fa\": 295,\n\t\"./fa.js\": 295,\n\t\"./fi\": 296,\n\t\"./fi.js\": 296,\n\t\"./fo\": 297,\n\t\"./fo.js\": 297,\n\t\"./fr\": 298,\n\t\"./fr-ca\": 299,\n\t\"./fr-ca.js\": 299,\n\t\"./fr-ch\": 300,\n\t\"./fr-ch.js\": 300,\n\t\"./fr.js\": 298,\n\t\"./fy\": 301,\n\t\"./fy.js\": 301,\n\t\"./gd\": 302,\n\t\"./gd.js\": 302,\n\t\"./gl\": 303,\n\t\"./gl.js\": 303,\n\t\"./gom-latn\": 304,\n\t\"./gom-latn.js\": 304,\n\t\"./gu\": 305,\n\t\"./gu.js\": 305,\n\t\"./he\": 306,\n\t\"./he.js\": 306,\n\t\"./hi\": 307,\n\t\"./hi.js\": 307,\n\t\"./hr\": 308,\n\t\"./hr.js\": 308,\n\t\"./hu\": 309,\n\t\"./hu.js\": 309,\n\t\"./hy-am\": 310,\n\t\"./hy-am.js\": 310,\n\t\"./id\": 311,\n\t\"./id.js\": 311,\n\t\"./is\": 312,\n\t\"./is.js\": 312,\n\t\"./it\": 313,\n\t\"./it.js\": 313,\n\t\"./ja\": 314,\n\t\"./ja.js\": 314,\n\t\"./jv\": 315,\n\t\"./jv.js\": 315,\n\t\"./ka\": 316,\n\t\"./ka.js\": 316,\n\t\"./kk\": 317,\n\t\"./kk.js\": 317,\n\t\"./km\": 318,\n\t\"./km.js\": 318,\n\t\"./kn\": 319,\n\t\"./kn.js\": 319,\n\t\"./ko\": 320,\n\t\"./ko.js\": 320,\n\t\"./ky\": 321,\n\t\"./ky.js\": 321,\n\t\"./lb\": 322,\n\t\"./lb.js\": 322,\n\t\"./lo\": 323,\n\t\"./lo.js\": 323,\n\t\"./lt\": 324,\n\t\"./lt.js\": 324,\n\t\"./lv\": 325,\n\t\"./lv.js\": 325,\n\t\"./me\": 326,\n\t\"./me.js\": 326,\n\t\"./mi\": 327,\n\t\"./mi.js\": 327,\n\t\"./mk\": 328,\n\t\"./mk.js\": 328,\n\t\"./ml\": 329,\n\t\"./ml.js\": 329,\n\t\"./mr\": 330,\n\t\"./mr.js\": 330,\n\t\"./ms\": 331,\n\t\"./ms-my\": 332,\n\t\"./ms-my.js\": 332,\n\t\"./ms.js\": 331,\n\t\"./mt\": 333,\n\t\"./mt.js\": 333,\n\t\"./my\": 334,\n\t\"./my.js\": 334,\n\t\"./nb\": 335,\n\t\"./nb.js\": 335,\n\t\"./ne\": 336,\n\t\"./ne.js\": 336,\n\t\"./nl\": 337,\n\t\"./nl-be\": 338,\n\t\"./nl-be.js\": 338,\n\t\"./nl.js\": 337,\n\t\"./nn\": 339,\n\t\"./nn.js\": 339,\n\t\"./pa-in\": 340,\n\t\"./pa-in.js\": 340,\n\t\"./pl\": 341,\n\t\"./pl.js\": 341,\n\t\"./pt\": 342,\n\t\"./pt-br\": 343,\n\t\"./pt-br.js\": 343,\n\t\"./pt.js\": 342,\n\t\"./ro\": 344,\n\t\"./ro.js\": 344,\n\t\"./ru\": 345,\n\t\"./ru.js\": 345,\n\t\"./sd\": 346,\n\t\"./sd.js\": 346,\n\t\"./se\": 347,\n\t\"./se.js\": 347,\n\t\"./si\": 348,\n\t\"./si.js\": 348,\n\t\"./sk\": 349,\n\t\"./sk.js\": 349,\n\t\"./sl\": 350,\n\t\"./sl.js\": 350,\n\t\"./sq\": 351,\n\t\"./sq.js\": 351,\n\t\"./sr\": 352,\n\t\"./sr-cyrl\": 353,\n\t\"./sr-cyrl.js\": 353,\n\t\"./sr.js\": 352,\n\t\"./ss\": 354,\n\t\"./ss.js\": 354,\n\t\"./sv\": 355,\n\t\"./sv.js\": 355,\n\t\"./sw\": 356,\n\t\"./sw.js\": 356,\n\t\"./ta\": 357,\n\t\"./ta.js\": 357,\n\t\"./te\": 358,\n\t\"./te.js\": 358,\n\t\"./tet\": 359,\n\t\"./tet.js\": 359,\n\t\"./th\": 360,\n\t\"./th.js\": 360,\n\t\"./tl-ph\": 361,\n\t\"./tl-ph.js\": 361,\n\t\"./tlh\": 362,\n\t\"./tlh.js\": 362,\n\t\"./tr\": 363,\n\t\"./tr.js\": 363,\n\t\"./tzl\": 364,\n\t\"./tzl.js\": 364,\n\t\"./tzm\": 365,\n\t\"./tzm-latn\": 366,\n\t\"./tzm-latn.js\": 366,\n\t\"./tzm.js\": 365,\n\t\"./uk\": 367,\n\t\"./uk.js\": 367,\n\t\"./ur\": 368,\n\t\"./ur.js\": 368,\n\t\"./uz\": 369,\n\t\"./uz-latn\": 370,\n\t\"./uz-latn.js\": 370,\n\t\"./uz.js\": 369,\n\t\"./vi\": 371,\n\t\"./vi.js\": 371,\n\t\"./x-pseudo\": 372,\n\t\"./x-pseudo.js\": 372,\n\t\"./yo\": 373,\n\t\"./yo.js\": 373,\n\t\"./zh-cn\": 374,\n\t\"./zh-cn.js\": 374,\n\t\"./zh-hk\": 375,\n\t\"./zh-hk.js\": 375,\n\t\"./zh-tw\": 376,\n\t\"./zh-tw.js\": 376\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 702;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_moment@2.20.1@moment/locale ^\\.\\/.*$\n// module id = 702\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { HttpService } from \"../../providers/http.service\";\r\nimport { NativeService } from \"../../providers/NativeService\";\r\nimport 'rxjs/add/operator/toPromise';\r\n@Injectable()\r\nexport class MapService {\r\n  constructor(private httpService: HttpService, public native: NativeService) {\r\n\r\n  }\r\n  uploadCurLoc(loc) {//上传用户当前位置\r\n    let reqinfo = {\r\n      url: 'person/addlocation',\r\n      personid: this.native.UserSession&&this.native.UserSession._id,\r\n      curlocation: {\r\n        positioningdate: new Date(),\r\n        SRS: '4321',\r\n        geolocation: loc\r\n      },\r\n      hideloading: true\r\n    }\r\n    this.httpService.post(reqinfo.url, reqinfo).subscribe(\r\n      data => {\r\n        try {\r\n          let res= data.json();\r\n          console.log('上传当前用户位置成功');\r\n        } catch (error) {\r\n          console.log('上传当前用户位置失败');\r\n        }\r\n      },\r\n      err => { console.log('上传当前用户位置失败'); }\r\n    );\r\n  }\r\n  getDeptPerson() {//查询部门人员列表\r\n    let reqinfo = {\r\n      url: 'maproute/getworkmateinfo',\r\n      _id: this.native.UserSession&&this.native.UserSession._id,\r\n      hideloading: true\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      this.httpService.post(reqinfo.url, reqinfo).subscribe(\r\n        data => {\r\n          try {\r\n            let res = data.json();\r\n            resolve(res.success);\r\n          } catch (error) {\r\n            reject(error);\r\n          }\r\n        },\r\n        err => { reject(err); }\r\n      );\r\n    });\r\n\r\n  }\r\n  getcameraposition() {//获取摄像头位置\r\n    let reqinfo = {\r\n      url: 'maproute/getcameraposition',\r\n      hideloading: true\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      this.httpService.post(reqinfo.url, reqinfo).subscribe(\r\n        data => {\r\n          try {\r\n            let res = data.json();\r\n            resolve(res.success);\r\n          } catch (error) {\r\n            reject(error);\r\n          }\r\n        },\r\n        err => { reject(err); }\r\n      );\r\n    });\r\n  }\r\n   geteventposition() {//获取待办事件点位置\r\n    let reqinfo = {\r\n      url: 'maproute/geteventposition',\r\n      hideloading: true\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      this.httpService.post(reqinfo.url, reqinfo).subscribe(\r\n        data => {\r\n          try {\r\n            let res = data.json();\r\n            resolve(res.success);\r\n          } catch (error) {\r\n            reject(error);\r\n          }\r\n        },\r\n        err => { reject(err); }\r\n      );\r\n    });\r\n  }\r\n  getspotarea() {//获取网格区域\r\n    let reqinfo = {\r\n      url: 'maproute/getspotarea',\r\n      hideloading: true\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      this.httpService.post(reqinfo.url, reqinfo).subscribe(\r\n        data => {\r\n          try {\r\n            let res = data.json();\r\n            resolve(res.success);\r\n          } catch (error) {\r\n            reject(error);\r\n          }\r\n        },\r\n        err => { reject(err); }\r\n      );\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/map-service.ts","import { Injectable } from '@angular/core';\r\nimport { HttpService } from \"../../providers/http.service\";\r\nimport { ChatService } from \"../../providers/chat-service\";\r\nimport { NativeService } from \"../../providers/NativeService\";\r\n@Injectable()\r\nexport class MentService {\r\n    //当前位置  \r\n    location = {\r\n        text: \"正在获取定位\",//物理地址\r\n        name: \"正在获取定位\",//简称\r\n        loc: [0, 0]//经纬度\r\n    };\r\n    //当前部门id\r\n    dept = null;\r\n    constructor(public httpService: HttpService, public chatser: ChatService,public native: NativeService) {\r\n        this.dept = this.chatser.deptlist[0];\r\n        this.native.myStorage.get('mentPostion').then((val) => {//获取用户当前位置\r\n        if (val) {\r\n          this.location = val;\r\n        }\r\n      });\r\n    }\r\n\r\n    //获取所有已定义的事件类型\r\n    getAllAbstracttype() {\r\n        return this.httpService.post(\"mobilegrid/getAllAbstracttypetodep\", {\r\n            departmentID: this.chatser.deptlist[0]._id\r\n        });\r\n    }\r\n    //添加事件\r\n    addEvent(subdata) {\r\n        return this.httpService.post(\"mobilegrid/sendnewEvent\", subdata);\r\n    }\r\n    //获取案件所有步骤\r\n    getcasestep(id) {\r\n        return this.httpService.post(\"mobilegrid/getcasestep\", {\r\n            id: id,\r\n            hideloading: true\r\n        });\r\n    }\r\n    //获取当前步骤\r\n    getcurrentstep(id) {\r\n        return this.httpService.post(\"mobilegrid/getcurrentstep\", {\r\n            _id: id\r\n        });\r\n    }\r\n    //根据步骤获取需提交的参数\r\n    getargutostep(id) {\r\n        return this.httpService.post(\"mobilegrid/getargutostep\", {\r\n            id: id\r\n        });\r\n    }\r\n    //保存参数\r\n    sendeventargument(data) {\r\n        return this.httpService.post(\"mobilegrid/sendeventargument\", data);\r\n    }\r\n    //保存参数并审核\r\n    sendeventargumentpush(data) {\r\n        return this.httpService.post(\"mobilegrid/sendeventargumentpush\", data);\r\n    }\r\n    //获取当前正在审核的步骤\r\n    getcurrentexaminestep(id) {\r\n        return this.httpService.post(\"mobilegrid/getcurrentexaminestep\", {\r\n            _id: id\r\n        });\r\n    }\r\n    //获取部门法律法规\r\n    getdepartmentlaw(deptid) {\r\n        return this.httpService.post(\"mobilegrid/getdepartmentlaw\", {\r\n            department: deptid\r\n        });\r\n    }\r\n    //拒绝审核\r\n    sendeventargbackoff(model) {\r\n        return this.httpService.post(\"mobilegrid/sendeventargbackoff\", model);\r\n    }\r\n    //同意审核\r\n    sendstepgo(model) {\r\n        return this.httpService.post(\"mobilegrid/sendstepgo\", model);\r\n    }\r\n    //获取所有部门\r\n    getAllDepartments() {\r\n        return this.httpService.post(\"personadminroute/getAllDepartments\", {});\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ment/ment.service.ts","/**\r\n * Created by hsuanlee on 2017/4/4.\r\n */\r\nimport { NgModule } from '@angular/core';\r\nimport { TabsPage} from './tabs';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n    declarations: [TabsPage],\r\n    imports: [IonicPageModule.forChild(TabsPage)],\r\n    exports: [TabsPage]\r\n})\r\nexport class TabsPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { Component,ViewChild } from '@angular/core';\r\nimport { IonicPage, Events } from \"ionic-angular\";\r\nimport { ChatService } from \"../../providers/chat-service\";\r\nimport {Tabs} from \"ionic-angular\";\r\n@IonicPage()\r\n@Component({\r\n    templateUrl: 'tabs.html'\r\n})\r\nexport class TabsPage {\r\n    // this tells the tabs component which Pages\r\n    // should be each tab's root Page\r\n    @ViewChild('mainTabs') tabs:Tabs;\r\n    tab1Root: any = 'HomePage';\r\n    tab2Root: any = 'MentPage';\r\n    tab3Root: any = 'ChatPage';\r\n    tab4Root: any = 'UserPage';\r\n    // tab3Root: any = 'ContactPage';\r\n    readnum: number = 0;\r\n    readnum_per: number = 0;\r\n    constructor(public events: Events, private chatser: ChatService) {\r\n        //this.changred();\r\n    }\r\n\r\n    ionViewDidEnter() {\r\n        this.events.subscribe('tab:readnum', (msg) => {\r\n            this.readnum++;\r\n        });\r\n        this.events.subscribe('tab:delnum', (num) => {\r\n            this.readnum -= num;\r\n        });\r\n        this.events.subscribe('tab:readnum_per', (num) => {\r\n            this.chatser.changred().then(res => {\r\n                this.readnum_per = this.chatser.hbred + this.chatser.qjred;\r\n            });\r\n        });\r\n        this.events.subscribe('tab:delnum_per', (num) => {\r\n            this.readnum_per -= num;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Injectable } from '@angular/core';\r\nimport { Events } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { MediaPlugin } from '@ionic-native/media';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { HttpService } from \"../providers/http.service\";\r\nimport { NativeService } from \"../providers/NativeService\";\r\nimport { MediaCapture } from '@ionic-native/media-capture';\r\nexport class ChatMessage {\r\n    messageId: string;\r\n    msgtype: number;//0:文本消息 1:语音 2:图片 3:视频\r\n    userId: string;\r\n    toUserId: string;\r\n    time: number | string;\r\n    message: string;\r\n    status: string;\r\n    isread: number;//0:已读 1:未读  由本人发送的消息 默认已读\r\n    isplay: boolean;\r\n}\r\n//特殊消息\r\nexport class ChatTsMessage {\r\n    abnormalID: string;//消息ID\r\n    msgid: string;//消息ID\r\n    _id: string;//发送人ID\r\n    name: string; //发送人名称\r\n    message: string;//发送人内容\r\n    starttime: string; //开始时间\r\n    endtime: string;//结束时间\r\n    type: string //0:请假 1：换班\r\n    status: string;//0:申请 1:结果\r\n    cl: string;//0:未读 1:已读\r\n    cljg: string;\r\n}\r\n\r\n//最近联系人(最新接受消息或最新发送)\r\nexport class ChatLogMessage {\r\n    _id: string; //用户ID\r\n    name: string;//用户昵称\r\n    message: string;//消息内容 如果是文本直接显示 否则转义成类型文字\r\n    count: number;//未读消息数量\r\n}\r\n\r\nexport class UserInfo {\r\n    userId: string;\r\n    userName: string;\r\n    userImgUrl: string;\r\n}\r\n\r\n@Injectable()\r\nexport class ChatService {\r\n    public qjred: number = 0;\r\n    public hbred: number = 0;\r\n    public deptlist = [];\r\n    public ispaly = false;//表示是否播放语音提醒\r\n    constructor(public httpService: HttpService, public events: Events, public storage: Storage, public native: NativeService, public media: MediaPlugin, public media_c: MediaCapture) {\r\n\r\n    }\r\n    //更新请假换班数量\r\n    changred() {\r\n        this.qjred = 0;\r\n        this.hbred = 0;\r\n        return this.getMsgListTs().then(res => {\r\n            if (!res) {\r\n                res = [];\r\n            }\r\n\r\n            var msglistTs = res;\r\n            for (var i = 0; i < msglistTs.length; i++) {\r\n                if (msglistTs[i].type == \"0\" && msglistTs[i].cl == \"0\") {\r\n                    this.qjred++;\r\n                }\r\n                if (msglistTs[i].type == \"1\" && msglistTs[i].cl == \"0\") {\r\n                    this.hbred++;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    //标记已读\r\n    changeread(msgid, ok) {\r\n        return this.getMsgListTs().then(res => {\r\n            if (!res) {\r\n                res = [];\r\n            }\r\n            var msglistTs = res;\r\n            for (var i = 0; i < msglistTs.length; i++) {\r\n                if (msglistTs[i].msgid == msgid) {\r\n                    msglistTs[i].cl = \"1\";\r\n                    msglistTs[i].cljg = ok;\r\n                    break;\r\n                }\r\n            }\r\n            this.saveMsgListTs(msglistTs);\r\n        });\r\n    }\r\n    //清除最新消息标记\r\n    del_logmessage(userid) {\r\n        this.storage.get('char_user_log_' + this.native.UserSession._id).then((val) => {\r\n            if (!val) {\r\n                val = [];\r\n            }\r\n            var list = val;\r\n            for (var i = 0; i < list.length; i++) {\r\n                //存在则清除\r\n                if (list[i]._id == userid) {\r\n                    list[i].count = 0;\r\n                    break;\r\n                }\r\n            }\r\n            this.storage.set('char_user_log_' + this.native.UserSession._id, list);\r\n        });\r\n    }\r\n    //添加最近消息\r\n    add_logmessage(msg: ChatLogMessage) {\r\n        this.storage.get('char_user_log_' + this.native.UserSession._id).then((val) => {\r\n            if (!val) {\r\n                val = [];\r\n            }\r\n            var list = val;\r\n            for (var i = 0; i < list.length; i++) {\r\n                //存在则先删除\r\n                if (list[i]._id == msg._id) {\r\n                    list.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            list.unshift(msg);\r\n            this.storage.set('char_user_log_' + this.native.UserSession._id, list);\r\n        });\r\n    }\r\n    //读取最近消息\r\n    get_logmessage(): Promise<ChatLogMessage[]> {\r\n        return this.storage.get('char_user_log_' + this.native.UserSession._id).then((val) =>\r\n            val as ChatLogMessage[]\r\n        ).catch(err => Promise.reject(err || 'err'));\r\n    }\r\n    //播放音频\r\n    playvoice(url, msg) {\r\n        this.media.create(url, function () {\r\n        }, function () {\r\n            if (msg) {\r\n                msg.isplay = false;\r\n            }\r\n        }).play();\r\n    }\r\n    //推送\r\n    mockNewMsg(msg) {\r\n        this.events.publish('chat:received', msg);\r\n    }\r\n    //读取缓存聊天记录\r\n    getMsgList(userid, touserid): Promise<ChatMessage[]> {\r\n        return this.storage.get('char_user_' + userid + \"_\" + touserid).then((val) =>\r\n            val as ChatMessage[]\r\n        ).catch(err => Promise.reject(err || 'err'));\r\n    }\r\n    //保存聊天记录缓存\r\n    saveMsgList(userid, touserid, msglist) {\r\n        this.storage.set('char_user_' + userid + \"_\" + touserid, msglist);\r\n    }\r\n    //读取缓存特殊聊天记录\r\n    getMsgListTs(): Promise<ChatTsMessage[]> {\r\n        return this.storage.get('char_user_ts_' + this.native.UserSession._id).then((val) =>\r\n            val as ChatTsMessage[]\r\n        ).catch(err => Promise.reject(err || 'err'));\r\n    }\r\n    //保存聊天特殊记录缓存\r\n    saveMsgListTs(msglist) {\r\n        this.storage.set('char_user_ts_' + this.native.UserSession._id, msglist);\r\n    }\r\n    //群发消息 后台静默发送\r\n    qunsendMsg(receiverInfo, messageObj) {\r\n        var msgdata = {\r\n            'messageObj': messageObj,\r\n            'senderID': this.native.UserSession._id,\r\n            'type': \"broadcast\",\r\n            'receiverInfo': receiverInfo,\r\n            \"receiverType\": \"persons\",\r\n            hideloading: true\r\n        }\r\n       \r\n        //for (var i = 0; i < receiverInfo.length; i++) {\r\n        //    msgdata[\"receiverInfo[\" + i + \"]\"] = receiverInfo[i];\r\n        //}\r\n        this.httpService.post(\"message/sendBroadcast\", msgdata).subscribe(data => {\r\n            console.log(data);\r\n        });\r\n    }\r\n    //发送的异常消息缓存，等待接受结果，收到后添加到异常消息记录缓存里，删除本缓存里的数据\r\n    getMsgListTsSend(): Promise<string[]> {\r\n        return this.storage.get('char_user_ts_send_' + this.native.UserSession._id).then((val) =>\r\n            val as string[]\r\n        ).catch(err => Promise.reject(err || 'err'));\r\n    }\r\n    saveMsgListTs_Send(msglist) {\r\n        this.storage.set('char_user_ts_send_' + this.native.UserSession._id, msglist);\r\n    }\r\n    //循环检测缓存KEY，有没有结果\r\n    ajaxTs_Send() {\r\n        this.getMsgListTsSend().then(resx => {\r\n            if (!resx) {\r\n                resx = [];\r\n            }\r\n            if (resx.length > 0) {\r\n                var res_s = resx.concat();\r\n                this.httpService.post(\"message/getAbnormaldMessageFeedback\", { senderID: this.native.UserSession._id, hideloading: true }).subscribe(data => {\r\n                    var list = data.json();\r\n                    if (list) {\r\n                        //请假或者换班消息\r\n                        this.getMsgListTs().then(res => {\r\n                            if (!res) {\r\n                                res = [];\r\n                            }\r\n                            var msglistTs = res;\r\n                            var _name = \"默认用户\";\r\n                            var istz = false;\r\n                            for (var i = 0; i < list.length; i++) {\r\n                                var msgmodel = list[i];\r\n                                for (var y = 0; y < res_s.length; y++) {\r\n                                    if (msgmodel.abnormalID == res_s[y]) {\r\n                                        istz = true;\r\n                                        //存在 表示已经得到回复了\r\n                                        resx.splice(y, 1);\r\n                                        //获取姓名\r\n                                        var iscz = false;\r\n                                        this.xhFun(function (user, _self) {\r\n                                            if (user.person._id == msgmodel.receiver) {\r\n                                                iscz = true;\r\n                                                _name = user.person.name;\r\n                                                return true;\r\n                                            }\r\n                                            return false;\r\n                                        });\r\n                                        //二期优化\r\n                                        if (!iscz) {\r\n                                            let requestInfo = {\r\n                                                url: \"personadminroute/getUserInfoById\",\r\n                                                personID: msgmodel.receiver,\r\n                                                hideloading: true\r\n                                            }\r\n                                            this.httpService.post(requestInfo.url, requestInfo).subscribe(\r\n                                                data => {\r\n                                                    var user = data.json().success;\r\n                                                    var msg_ts = {\r\n                                                        abnormalID: msgmodel.abnormalID,\r\n                                                        msgid: msgmodel._id + \"hf\",\r\n                                                        _id: msgmodel.receiver,\r\n                                                        name: user.name,\r\n                                                        message: msgmodel.text,\r\n                                                        starttime: msgmodel.abnormalStartTime,\r\n                                                        endtime: msgmodel.abnormalEndTime,\r\n                                                        type: (msgmodel.type == \"takeoff\" ? \"0\" : \"1\"),\r\n                                                        status: msgmodel.status,\r\n                                                        cl: \"0\",\r\n                                                        cljg: msgmodel.abnormaldecision == \"approve\" ? \"同意\" : \"拒绝\"\r\n                                                    };\r\n                                                    //向前插入\r\n                                                    msglistTs.unshift(msg_ts);\r\n                                                    //缓存消息\r\n                                                    this.saveMsgListTs(msglistTs);\r\n                                                    //推送未读标记\r\n                                                    this.events.publish('tab:readnum_per', 1);\r\n                                                }\r\n                                            );\r\n                                        } else {\r\n                                            var msg_ts = {\r\n                                                abnormalID: msgmodel.abnormalID,\r\n                                                msgid: msgmodel._id + \"hf\",\r\n                                                _id: msgmodel.receiver,\r\n                                                name: _name,\r\n                                                message: msgmodel.text,\r\n                                                starttime: msgmodel.abnormalStartTime,\r\n                                                endtime: msgmodel.abnormalEndTime,\r\n                                                type: (msgmodel.type == \"takeoff\" ? \"0\" : \"1\"),\r\n                                                status: msgmodel.status,\r\n                                                cl: \"0\",\r\n                                                cljg: msgmodel.abnormaldecision == \"approve\" ? \"同意\" : \"拒绝\"\r\n                                            };\r\n                                            //向前插入\r\n                                            msglistTs.unshift(msg_ts);\r\n                                            //缓存消息\r\n                                            this.saveMsgListTs(msglistTs);\r\n                                            //推送未读标记\r\n                                            this.events.publish('tab:readnum_per', 1);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (istz) {\r\n                                this.playvoice(\"file:///android_asset/www/assets/wav/8855.wav\", \"\");\r\n                            }\r\n                            //保存更新\r\n                            this.saveMsgListTs_Send(resx);\r\n                            //10秒后再执行\r\n                            setTimeout(() => {\r\n                                this.ajaxTs_Send();\r\n                            }, 10 * 1000)\r\n                        });\r\n                    } else {\r\n                        //5秒后 再执行\r\n                        setTimeout(() => {\r\n                            this.ajaxTs_Send();\r\n                        }, 5 * 1000)\r\n                    }\r\n                });\r\n            } else {\r\n                //5秒后 再执行\r\n                setTimeout(() => {\r\n                    this.ajaxTs_Send();\r\n                }, 5 * 1000)\r\n            }\r\n        });\r\n\r\n    }\r\n    //发送异常消息\r\n    sendAbnormaMsg(message, type, stime, etime, receiverType, receiverInfo) {\r\n        console.log(this.native.UserSession)\r\n        var msgdata = null;\r\n        if (type == \"shift\") {\r\n            msgdata = {\r\n                senderID: this.native.UserSession._id,\r\n                type: type,//消息类型\r\n                abnormalStartTime: stime,//开始时间\r\n                abnormalEndTime: etime,//结束时间\r\n                abnormalShiftPersonId: receiverInfo,//换班接受人ID\r\n                receiverInfo: receiverInfo,//接受ID\r\n                receiverType: receiverType,//发送类型\r\n                senderTitle: \"\",\r\n                hideloading: true\r\n            }\r\n            this.httpService.post(\"message/sendAbnormalMessage\", msgdata).subscribe(data => {\r\n                var cur_m = data.json();\r\n                if (cur_m) {\r\n                    this.getMsgListTsSend().then(res => {\r\n                        if (!res) {\r\n                            res = [];\r\n                        }\r\n                        res.unshift(cur_m.abnormalID);\r\n                        this.saveMsgListTs_Send(res);\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            msgdata = {\r\n                \"messageObj\": {\r\n                    text: message\r\n                },\r\n                senderID: this.native.UserSession._id,\r\n                type: type,//消息类型\r\n                abnormalStartTime: stime,//开始时间\r\n                abnormalEndTime: etime,//结束时间\r\n                abnormalShiftPersonId: receiverInfo,//换班接受人ID\r\n                receiverInfo: receiverInfo,//接受ID\r\n                receiverType: receiverType,//发送类型\r\n                senderTitle: \"\",\r\n                hideloading: true\r\n            }\r\n        }\r\n        this.httpService.post(\"message/sendAbnormalMessage\", msgdata).subscribe(data => {\r\n            var cur_m = data.json();\r\n            if (cur_m) {\r\n                this.getMsgListTsSend().then(res => {\r\n                    if (!res) {\r\n                        res = [];\r\n                    }\r\n                    res.unshift(cur_m.abnormalID);\r\n                    this.saveMsgListTs_Send(res);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //发送消息 并缓存本地\r\n    sendMsg(msg: ChatMessage, name: string) {\r\n        var messageObj = {\r\n            text: \"\",\r\n            video: \"\",\r\n            voice: \"\",\r\n            image: \"\"\r\n        };\r\n        var text = msg.message;\r\n        switch (msg.msgtype) {\r\n            case 0:\r\n                messageObj.text = msg.message;\r\n                break;\r\n            case 1:\r\n                messageObj.voice = msg.message;\r\n                text = \"语音\";\r\n                break;\r\n            case 2:\r\n                messageObj.image = msg.message;\r\n                text = \"图片\";\r\n                break;\r\n            case 3:\r\n                messageObj.video = msg.message;\r\n                text = \"视频\";\r\n                break;\r\n        }\r\n        this.add_logmessage({\r\n            _id: msg.toUserId,\r\n            name: name,\r\n            message: text,\r\n            count: 0\r\n        });\r\n        var msgdata = {\r\n            'messageObj': messageObj,\r\n            'senderID': msg.userId,\r\n            'receiverID': msg.toUserId,\r\n            hideloading: true\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            this.httpService.post(\"message/sendAMessage\", msgdata).subscribe(data => {\r\n                console.log(data);\r\n                resolve(data.json());\r\n            });\r\n        }).then(() => {\r\n            //this.mockNewMsg(msg)\r\n        })\r\n    }\r\n    //通知服务器消息已读\r\n    readMsg(messageID, nomsglist) {\r\n        this.httpService.post(\"message/readtMessage\", {\r\n            messID: messageID,\r\n            hideloading: true\r\n        }).subscribe(data => {\r\n            nomsglist.splice(0, 1);\r\n            if (nomsglist.length > 0) {\r\n                this.MsgCl(nomsglist);\r\n            }\r\n        });\r\n    }\r\n\r\n    MsgCl(nomsglist) {\r\n        var msgmodel = nomsglist[0];\r\n        switch (msgmodel.type) {\r\n            case \"shift\":\r\n            case \"takeoff\":\r\n                {\r\n                    //请假或者换班消息\r\n                    this.getMsgListTs().then(res => {\r\n                        if (!res) {\r\n                            res = [];\r\n                        }\r\n                        var msglistTs = res;\r\n                        var _name = \"默认用户\";\r\n                        //检查该记录是否存在，存在则不添加\r\n                        var isAdd = true;\r\n                        for (var i = 0; i < msglistTs.length; i++) {\r\n                            var m = msglistTs[i];\r\n                            if (m.msgid == msgmodel._id || m.abnormalID == msgmodel.abnormalID) {\r\n                                //表示存在\r\n                                isAdd = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (isAdd) {\r\n                            this.ispaly = true;\r\n                            //获取姓名\r\n                            this.xhFun(function (user, _self) {\r\n                                if (user.person._id == msgmodel.sender) {\r\n                                    _name = user.person.name;\r\n                                    return true;\r\n                                }\r\n                                return false;\r\n                            });\r\n                            var msg_ts = {\r\n                                abnormalID: msgmodel.abnormalID,\r\n                                msgid: msgmodel._id,\r\n                                _id: msgmodel.sender,\r\n                                name: _name,\r\n                                message: msgmodel.text,\r\n                                starttime: msgmodel.abnormalStartTime,\r\n                                endtime: msgmodel.abnormalEndTime,\r\n                                type: (msgmodel.type == \"takeoff\" ? \"0\" : \"1\"),\r\n                                status: msgmodel.status,\r\n                                cl: \"0\",\r\n                                cljg: \"\"\r\n                            };\r\n                            //向前插入\r\n                            msglistTs.unshift(msg_ts);\r\n                            //缓存消息\r\n                            this.saveMsgListTs(msglistTs);\r\n                            //推送未读标记\r\n                            this.events.publish('tab:readnum_per', 1);\r\n                        }\r\n                        nomsglist.splice(0, 1);\r\n                        if (nomsglist.length > 0) {\r\n                            this.MsgCl(nomsglist);\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"broadcast\":\r\n            case \"message\":\r\n                {\r\n                    this.ispaly = true;\r\n                    var senderid = msgmodel.sender;\r\n                    if (msgmodel.type == \"broadcast\") {\r\n                        senderid = \"000000\";\r\n                    }\r\n                    //把查询到的消息添加到缓存 标记未读\r\n                    this.getMsgList(this.native.UserSession._id, senderid).then(res => {\r\n                        if (!res) {\r\n                            res = [];\r\n                        }\r\n                        var msgList = res;\r\n                        var msg = {\r\n                            messageId: msgmodel._id,\r\n                            msgtype: 0,\r\n                            userId: senderid,\r\n                            toUserId: msgmodel.receiver,\r\n                            time: msgmodel.create_date,\r\n                            message: \"\",\r\n                            status: 'success',\r\n                            isread: 1,//标记未读\r\n                            isplay: false\r\n                        }\r\n                        var text = \"\";\r\n                        if (msgmodel.text) {\r\n                            msg.msgtype = 0;\r\n                            msg.message = msgmodel.text;\r\n                            text = msgmodel.text;\r\n                        }\r\n                        if (msgmodel.image) {\r\n                            msg.msgtype = 2;\r\n                            msg.message = msgmodel.image;\r\n                            text = \"图片\";\r\n                        }\r\n                        if (msgmodel.video) {\r\n                            msg.msgtype = 3;\r\n                            msg.message = msgmodel.video;\r\n                            text = \"视频\";\r\n                        }\r\n                        if (msgmodel.voice) {\r\n                            msg.msgtype = 1;\r\n                            msg.message = msgmodel.voice;\r\n                            text = \"语音\";\r\n                        }\r\n                        msgList.push(msg);\r\n                        //缓存消息\r\n                        this.saveMsgList(msgmodel.receiver, senderid, msgList);\r\n                        //推送到聊天窗口\r\n                        this.mockNewMsg(msg);\r\n                        //查找该用户是不是IM结构中的\r\n                        var iscz = false;\r\n                        for (var a = 0; a < this.deptlist.length; a++) {\r\n                            for (var b = 0; b < this.deptlist[a].persons.length; b++) {\r\n                                if (this.deptlist[a].persons[b].person._id == senderid) {\r\n                                    iscz = true;\r\n                                    var user = this.deptlist[a].persons[b];\r\n                                    var count_m = 1;\r\n                                    if (user.msg) {\r\n                                        count_m = user.msg.count + 1;\r\n                                    } else {\r\n                                        this.deptlist[a].persons[b].msg = {};\r\n                                    }\r\n                                    this.deptlist[a].persons[b].msg = {\r\n                                        count: count_m,\r\n                                        text: text\r\n                                    }\r\n                                    this.add_logmessage({\r\n                                        _id: senderid,\r\n                                        name: user.person.name,\r\n                                        message: text,\r\n                                        count: count_m\r\n                                    });\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (!iscz) {\r\n                            let requestInfo = {\r\n                                url: \"personadminroute/getUserInfoById\",\r\n                                personID: msgmodel.sender,\r\n                                hideloading: true\r\n                            }\r\n                            this.httpService.post(requestInfo.url, requestInfo).subscribe(\r\n                                data => {\r\n                                    var user = data.json().success;\r\n                                    if (senderid == \"000000\") {\r\n                                        this.add_logmessage({\r\n                                            _id: senderid,\r\n                                            name: \"系统通知\",\r\n                                            message: user.name + \"：\" + text,\r\n                                            count: 1\r\n                                        });\r\n                                    } else {\r\n                                        this.add_logmessage({\r\n                                            _id: senderid,\r\n                                            name: user.name,\r\n                                            message: text,\r\n                                            count: 1\r\n                                        });\r\n                                    }\r\n                                    //通知刷新界面\r\n                                    this.events.publish('chatlist:sx', \"\");\r\n                                }\r\n                            );\r\n                        }\r\n                        //通知刷新界面\r\n                        this.events.publish('chatlist:sx', \"\");\r\n                        //推送未读标记\r\n                        this.events.publish('tab:readnum', {});\r\n                        //ajax通知服务器 消息已本地存储 后台静默标记已读 先不考虑用户换手机情况\r\n                        this.readMsg(msgmodel._id, nomsglist);\r\n                    });\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    //获取历史消息对象\r\n    getnoreadnum(user) {\r\n        user.msg = {\r\n            text: \"\",\r\n            count: 0\r\n        };\r\n        if (!user.person) {\r\n            return false;\r\n        }\r\n        this.getMsgList(this.native.UserSession._id, user.person._id).then(res => {\r\n            if (!res) {\r\n                res = [];\r\n            }\r\n            if (user.msg || user.msg.count == 0) {\r\n                var msgList = res;\r\n                var mx = {\r\n                    count: 0,\r\n                    text: ''\r\n                };\r\n                if (msgList.length > 0) {\r\n                    var msgmodel = msgList[msgList.length - 1];\r\n                    switch (msgmodel.msgtype) {\r\n                        case 0:\r\n                            mx.text = msgmodel.message;\r\n                            break;\r\n                        case 1:\r\n                            mx.text = \"语音\";\r\n                            break;\r\n                        case 2:\r\n                            mx.text = \"图片\";\r\n                            break;\r\n                        case 3:\r\n                            mx.text = \"视频\";\r\n                            break;\r\n                    }\r\n                    mx.count = msgmodel.isread;\r\n                    user.msg = mx;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    xhFun(callback) {\r\n        for (var a = 0; a < this.deptlist.length; a++) {\r\n            for (var b = 0; b < this.deptlist[a].persons.length; b++) {\r\n                if (callback(this.deptlist[a].persons[b], this)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    updatelsmsg() {\r\n        this.xhFun(function (user, _self) {\r\n            _self.getnoreadnum(user);\r\n            return false;\r\n        });\r\n    }\r\n    //加载IM结构\r\n    loaduser(dept) {\r\n        let requestInfo = {\r\n            url: \"department/getAllpersonsByDepartIdOneStep\",\r\n            _id: dept[0].department,\r\n            hideloading: true\r\n        }\r\n        this.httpService.post(requestInfo.url, requestInfo).subscribe(\r\n            data => {\r\n                this.deptlist.push(data.json());\r\n                dept.splice(0, 1);\r\n                if (dept.length > 0) {\r\n                    this.loaduser(dept);\r\n                } else {\r\n                    //读取历史消息\r\n                    this.updatelsmsg();\r\n                    //5秒后开始监听消息\r\n                    setTimeout(() => {\r\n                        this.getUserNoRead();\r\n                    }, 1 * 1000)\r\n                }\r\n            },\r\n            err => console.error(err)\r\n        );\r\n    }\r\n    //获取当前用户未读消息\r\n    getUserNoRead() {\r\n        try {\r\n            //console.log(this.deptlist)\r\n            //检测IM结构数据是否存在 不存在获取\r\n            if (this.deptlist.length == 0) {\r\n                this.ajaxTs_Send();\r\n                var deptlist = this.native.UserSession.departments.concat()\r\n                this.loaduser(deptlist);\r\n            } else {\r\n                this.httpService.post(\"message/getAllUnreadMessages\", { receiverID: this.native.UserSession._id, hideloading: true }).subscribe(data => {\r\n                    var nomsglist = data.json();\r\n                    if (nomsglist.length > 0) {\r\n                        this.MsgCl(nomsglist);\r\n                        if (this.ispaly) {\r\n                            this.playvoice(\"file:///android_asset/www/assets/wav/8855.wav\", \"\");\r\n                        }\r\n                    }\r\n                    //处理完本次消息后，间隔10秒后查询\r\n                    setTimeout(() => {\r\n                        this.ispaly = false;\r\n                        this.getUserNoRead();\r\n                    }, 10 * 1000)\r\n                });\r\n            }\r\n            //通知tab可以开始读取缓存消息\r\n            this.events.publish('tab:readnum_per', 1);\r\n        } catch (error) {\r\n            alert(error);\r\n        }\r\n    }\r\n    //获取当前登录用户信息\r\n    getUserInfo(): Promise<UserInfo> {\r\n        let userInfo: UserInfo = {\r\n            userId: this.native.UserSession._id,\r\n            userName: this.native.UserSession.name,\r\n            userImgUrl: this.native.UserSession.images.coverSmall\r\n        };\r\n        return new Promise((resolve, reject) => {\r\n            resolve(userInfo)\r\n        })\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat-service.ts"],"sourceRoot":""}